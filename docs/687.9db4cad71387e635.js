"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[687],{9687:(I,h,c)=>{c.r(h),c.d(h,{FourDogsComponent:()=>U});var r=c(6814),u=c(7432);class g{#t=new u.$k;get statistic(){return this.#t.items}constructor(o){this.num=o}shouldStop({getObjPosition:o}){const i=o(this),s=o(this.followDog);return Math.sqrt(Math.pow(i.x-s.x,2)+Math.pow(i.y-s.y,2))<.2}calculateNextPosition({getObjPosition:o,ticksInterval:i}){const s=o(this),e=o(this.followDog),p=Math.sqrt(Math.pow(e.x-s.x,2)+Math.pow(e.y-s.y,2))/1,l={x:s.x+(e.x-s.x)/p*i,y:s.y+(e.y-s.y)/p*i};return this.#t.add("l",_=>(_??0)+Math.sqrt(Math.pow(l.x-s.x,2)+Math.pow(l.y-s.y,2))),l}draw({ctx:o,cx:i,cy:s,cd:e,cdx:a,cdy:d,getObjPosition:p,theme:l}){const{x:_,y:x}=p(this);o.beginPath(),o.strokeStyle=l.color,o.lineWidth=1,o.arc(i(_),s(x),e(.1,10),0,2*Math.PI),o.stroke(),o.beginPath(),o.font=`${e(.14,14)}px sans-serif`,o.strokeText(String(this.num),i(_)-a(.04,4),s(x)-d(.05,5))}follow(o){this.followDog=o}}var m=c(7398),f=c(4936),t=c(6146);function y(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.start())}),t._uU(1," Start "),t.qZA()}}function w(n,o){if(1&n){const i=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){t.CHM(i);const e=t.oxw();return t.KtG(e.stop())}),t._uU(1," Stop "),t.qZA()}}function Z(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"State"),t.BQk(),t.ynx(3,8),t._uU(4),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",i.space.on?"on":"off"," ")}}function D(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Time"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.space.time,"1.3-3")," s ")}}function T(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Time speed"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;let s;t.xp6(4),t.hij(" ",t.xi3(5,1,100*(null!==(s=i.space.timeSpeed)&&void 0!==s?s:0),"1.1-1")," % ")}}function k(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij("",t.xi3(5,1,i.dog1.l,"1.2-2")," m")}}function C(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.dog2.l,"1.2-2")," m ")}}function Q(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.dog3.l,"1.2-2")," m ")}}function b(n,o){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.dog4.l,"1.2-2")," m ")}}function A(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"ui-statistic"),t.ynx(2,6),t._uU(3,"Space"),t.BQk(),t.YNc(4,Z,5,1,"ui-statistic-line",4)(5,D,6,4,"ui-statistic-line",4)(6,T,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(7,"ui-statistic"),t.ynx(8,6),t._uU(9,"Dog 1"),t.BQk(),t.YNc(10,k,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(11,"ui-statistic"),t.ynx(12,6),t._uU(13,"Dog 2"),t.BQk(),t.YNc(14,C,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(15,"ui-statistic"),t.ynx(16,6),t._uU(17,"Dog 3"),t.BQk(),t.YNc(18,Q,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(19,"ui-statistic"),t.ynx(20,6),t._uU(21,"Dog 4"),t.BQk(),t.YNc(22,b,6,4,"ui-statistic-line",4),t.qZA(),t.BQk()),2&n){const i=o.ngIf;t.xp6(4),t.Q6J("ngIf",i.space.hasOwnProperty("on")),t.xp6(1),t.Q6J("ngIf",i.space.hasOwnProperty("time")),t.xp6(1),t.Q6J("ngIf",i.space.hasOwnProperty("timeSpeed")),t.xp6(4),t.Q6J("ngIf",i.dog1.hasOwnProperty("l")),t.xp6(4),t.Q6J("ngIf",i.dog2.hasOwnProperty("l")),t.xp6(4),t.Q6J("ngIf",i.dog3.hasOwnProperty("l")),t.xp6(4),t.Q6J("ngIf",i.dog4.hasOwnProperty("l"))}}let U=(()=>{class n{#t;#i;#n;#s;#o;constructor(i){this.cdr=i,this.statistic$=(0,u.WI)(()=>({space:this.#t?.statistic??{},dog1:this.#i?.statistic??{},dog2:this.#i?.statistic??{},dog3:this.#i?.statistic??{},dog4:this.#i?.statistic??{}})),this.started$=this.statistic$.pipe((0,m.U)(s=>s.space.on))}reset(){this.stop(),this.#e(),this.#t=new u.T(.005),this.#i=new g(1),this.#n=new g(2),this.#s=new g(3),this.#o=new g(4),this.#i.follow(this.#n),this.#n.follow(this.#s),this.#s.follow(this.#o),this.#o.follow(this.#i),this.#t.addObject(this.#i,{x:0,y:10}),this.#t.addObject(this.#n,{x:10,y:10}),this.#t.addObject(this.#s,{x:10,y:0}),this.#t.addObject(this.#o,{x:0,y:0}),this.#t.setCanvas(this.canvasComponent)}start(){this.#t?.start()}stop(){this.#t?.stop()}ngAfterViewInit(){this.reset(),this.cdr.detectChanges()}ngOnDestroy(){this.#e()}#e(){this.stop(),this.#t=void 0,this.#i=void 0,this.#n=void 0,this.#s=void 0,this.#o=void 0}static#c=this.\u0275fac=function(s){return new(s||n)(t.Y36(t.sBO))};static#a=this.\u0275cmp=t.Xpm({type:n,selectors:[["lab-four-dogs"]],viewQuery:function(s,e){if(1&s&&t.Gf(u.cY,5),2&s){let a;t.iGM(a=t.CRH())&&(e.canvasComponent=a.first)}},standalone:!0,features:[t.jDz],decls:15,vars:11,consts:[[1,"control-panel"],[1,"buttons"],["type","button",3,"click"],["type","button",3,"click",4,"ngIf"],[4,"ngIf"],[3,"sizeX","sizeY"],["title",""],["label",""],["value",""]],template:function(s,e){1&s&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2," 4 dogs are placed in the corners of a square 10x10 meters. Each dog follows the dog to the left. Calculate a distance dogs go before meeting another dog."),t._UZ(3,"br"),t._uU(4," A dog is a ball approximately 20cm in diameter. "),t.qZA(),t.TgZ(5,"div",1)(6,"button",2),t.NdJ("click",function(){return e.reset()}),t._uU(7,"Reset"),t.qZA(),t.YNc(8,y,2,0,"button",3),t.ALo(9,"async"),t.YNc(10,w,2,0,"button",3),t.ALo(11,"async"),t.qZA(),t.YNc(12,A,23,7,"ng-container",4),t.ALo(13,"async"),t.qZA(),t._UZ(14,"tick-canvas",5)),2&s&&(t.xp6(8),t.Q6J("ngIf",!t.lcZ(9,5,e.started$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,7,e.started$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,9,e.statistic$)),t.xp6(2),t.Q6J("sizeX",10)("sizeY",10))},dependencies:[r.ez,r.O5,r.Ov,r.JJ,u.cY,f._E,f.Dd],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:1em;height:100%}[_nghost-%COMP%]   .control-panel[_ngcontent-%COMP%]{display:grid;gap:1em;align-content:start}[_nghost-%COMP%]   .control-panel[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.5em}"],changeDetection:0})}return n})()}}]);