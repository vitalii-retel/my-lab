"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[71],{7432:(I,_,r)=>{r.d(_,{cY:()=>L,T:()=>H,$k:()=>k,WI:()=>$});var n=r(6146),m=r(6814),v=r(8645),w=r(4829),C=r(5592),D=r(1631),x=r(4266),u=r(4674),E=r(7400);const S=["addListener","removeListener"],z=["addEventListener","removeEventListener"],P=["on","off"];function y(i,t,e,s){if((0,u.m)(e)&&(s=e,e=void 0),s)return y(i,t,e).pipe((0,E.Z)(s));const[c,d]=function h(i){return(0,u.m)(i.addEventListener)&&(0,u.m)(i.removeEventListener)}(i)?z.map(l=>f=>i[l](t,f,e)):function a(i){return(0,u.m)(i.addListener)&&(0,u.m)(i.removeListener)}(i)?S.map(T(i,t)):function O(i){return(0,u.m)(i.on)&&(0,u.m)(i.off)}(i)?P.map(T(i,t)):[];if(!c&&(0,x.z)(i))return(0,D.z)(l=>y(l,t,e))((0,w.Xf)(i));if(!c)throw new TypeError("Invalid event target");return new C.y(l=>{const f=(...g)=>l.next(1<g.length?g:g[0]);return c(f),()=>d(f)})}function T(i,t){return e=>s=>i[e](t,s)}var o=r(9773);const p={now:()=>(p.delegate||Date).now(),delegate:void 0};class j extends v.x{constructor(t=1/0,e=1/0,s=p){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:c,_timestampProvider:d,_windowTime:l}=this;e||(s.push(t),!c&&s.push(d.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:c}=this,d=c.slice();for(let l=0;l<d.length&&!t.closed;l+=s?1:2)t.next(d[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:c}=this,d=(c?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!c){const l=e.now();let f=0;for(let g=1;g<s.length&&s[g]<=l;g+=2)f=g;f&&s.splice(0,f+1)}}}var F=r(3020);const X=["canvas"];let L=(()=>{class i{get aspectRatio(){return{"aspect-ratio":`${this.sizeX}/${this.sizeY}`}}get canvasEl(){return this.canvas.nativeElement}get scaleX(){return this._scaleX}get scaleY(){return this._scaleY}get theme(){const e=getComputedStyle(this.canvasEl);return{color:e.color,bgColor:e.backgroundColor}}get width(){return this.canvasEl.clientWidth}get height(){return this.canvasEl.clientHeight}constructor(e){this.document=e,this.destroyed$=new v.x,this.sizeX=1,this.sizeY=1,this._scaleX=1,this._scaleY=1}ngOnChanges(){this.canvas&&this.adjustSizes()}ngAfterViewInit(){this.initiateCanvasSizeAdjuster(),this.initiateCanvasContext()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}clean(){this.ctx.fillStyle=this.theme.bgColor,this.ctx.fillRect(0,0,this.width,this.height)}initiateCanvasSizeAdjuster(){const e=this.document.defaultView;e&&(y(e,"resize").pipe((0,o.R)(this.destroyed$)).subscribe(()=>this.adjustSizes()),this.adjustSizes())}adjustSizes(){this.canvasEl.width=0,this.canvasEl.height=0,this.canvasEl.width=this.width,this.canvasEl.height=this.height,this.canvasEl.width=this.width,this.canvasEl.height=this.height,this._scaleX=this.width/this.sizeX,this._scaleY=this.height/this.sizeY}initiateCanvasContext(){const e=this.canvasEl.getContext("2d");if(!e)throw new Error("Cannot initiate canvas context");this.ctx=e}static#t=this.\u0275fac=function(s){return new(s||i)(n.Y36(m.K0))};static#e=this.\u0275cmp=n.Xpm({type:i,selectors:[["tick-canvas"]],viewQuery:function(s,c){if(1&s&&n.Gf(X,5,n.SBq),2&s){let d;n.iGM(d=n.CRH())&&(c.canvas=d.first)}},inputs:{sizeX:"sizeX",sizeY:"sizeY"},standalone:!0,features:[n.TTD,n.jDz],decls:8,vars:3,consts:[[1,"y-end"],[3,"ngStyle"],["canvas",""],[1,"start"],[1,"x-end"]],template:function(s,c){1&s&&(n.TgZ(0,"div",0),n._uU(1),n.qZA(),n._UZ(2,"canvas",1,2),n.TgZ(4,"div",3),n._uU(5,"0"),n.qZA(),n.TgZ(6,"div",4),n._uU(7),n.qZA()),2&s&&(n.xp6(1),n.hij("",c.sizeY," m"),n.xp6(1),n.Q6J("ngStyle",c.aspectRatio),n.xp6(5),n.hij("",c.sizeX," m"))},dependencies:[m.ez,m.PC],styles:["[_nghost-%COMP%]{display:grid;gap:.25em;grid-template-columns:max-content max-content;grid-template-rows:auto max-content;justify-items:end}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;height:100%;aspect-ratio:1/1;box-shadow:var(--shadow);background-color:var(--bg-main);color:var(--c-main);margin-top:-.063em}[_nghost-%COMP%]   .start[_ngcontent-%COMP%], [_nghost-%COMP%]   .x-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .y-end[_ngcontent-%COMP%]{font-size:.75em}[_nghost-%COMP%]   .right-space[_ngcontent-%COMP%]{grid-row:1/-1;grid-column:3/-1}"],changeDetection:0})}return i})();class k{#t={};get items(){return this.#t}constructor(t={}){Object.assign(this.#t,t)}add(t,e){this.#t="function"!=typeof e?{...this.#t,[t]:e}:{...this.#t,[t]:e(this.#t[t])}}}const b="on",M="time";class H{#t=[];#e=new WeakMap;#d=new WeakMap;#v=1e3*this.ticksInterval;#a="stopped";#m=Date.now();#s=Date.now();#o=0;#r;#n={real:Date.now(),space:Date.now()};#i=new k({[b]:!1});#u;#h;get statistic(){return this.#i.items}constructor(t){this.ticksInterval=t}addObject(t,{x:e,y:s}){this.#t.push(t),this.#e.set(t,{x:e,y:s})}setCanvas(t){this.#r=t,this.#c()}start(){this.#a="started",this.#c(),this.#i.add(b,!0),this.#n.real=Date.now(),this.#n.space=this.statistic[M]||0,this.#m=Date.now(),this.#s=this.#m,this.#o=0,this.#p(),this.#g()}stop(){this.#a="stopped",this.#c(),clearTimeout(this.#u),this.#h&&cancelAnimationFrame(this.#h),this.#i.add(b,!1)}#p(){if("stopped"===this.#a)return;const t=25===this.#o?this.#s:Date.now();if(t>this.#s)return this.#o++,void this.#f();this.#o=0,this.#u=setTimeout(()=>this.#f(),this.#s-t)}#f(){if(this.#t.some(e=>e.shouldStop({getObjPosition:s=>this.#e.get(s)})))return void this.stop();this.#t.forEach(e=>{const s=e.calculateNextPosition({getObjPosition:c=>this.#e.get(c),ticksInterval:this.ticksInterval});this.#d.set(e,s)}),this.#t.forEach(e=>{this.#e.set(e,this.#d.get(e))}),this.#i.add(M,e=>(e??0)+this.ticksInterval);const t=Date.now()-this.#n.real;t>1e3&&(this.#i.add("timeSpeed",1e3*(this.statistic[M]-this.#n.space)/t),this.#n.real+=t,this.#n.space=this.statistic[M]),this.#s+=this.#v,this.#p()}#g(){"stopped"!==this.#a&&(this.#h=requestAnimationFrame(()=>this.#C()))}#C(){this.#c(),this.#g()}#c(){if(!this.#r)return;const t=this.#r;t.clean(),this.#t.forEach(e=>e.draw({getObjPosition:s=>this.#e.get(s),cx:s=>s*t.scaleX,cy:s=>(t.sizeY-s)*t.scaleY,cdx:(s,c)=>this.#l(s*t.scaleX,c??0),cdy:(s,c)=>this.#l(-s*t.scaleY,c??0),cd:(s,c)=>this.#l(s*t.scaleX,c??0),ctx:t.ctx,theme:t.theme}))}#l(t,e){return t>=0?Math.max(t,e):Math.min(t,e)}}function $(i){return new C.y(t=>{let e=function s(){return requestAnimationFrame(()=>{t.next(i()),e=s()})}();return()=>cancelAnimationFrame(e)}).pipe(function A(i,t,e){let s,c=!1;return i&&"object"==typeof i?({bufferSize:s=1/0,windowTime:t=1/0,refCount:c=!1,scheduler:e}=i):s=i??1/0,(0,F.B)({connector:()=>new j(s,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}({refCount:!0,bufferSize:1}))}},4936:(I,_,r)=>{r.d(_,{Bc:()=>E,Dd:()=>P,QL:()=>u,_E:()=>z,r3:()=>T,wp:()=>S});var n=r(6146),m=r(6814);const v=["*"],w=[[["","title",""]],[["ui-statistic-line"]]],C=["[title]","ui-statistic-line"],D=[[["","label",""]],[["","value",""]]],x=["[label]","[value]"];let u=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["ui-code"]],standalone:!0,features:[n.jDz],ngContentSelectors:v,decls:1,vars:0,template:function(o,p){1&o&&(n.F$t(),n.Hsn(0))},dependencies:[m.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);background-color:var(--bg-light);border:.063em solid var(--cb-main);padding:.5em .938em;margin:.5em 0}"],changeDetection:0})}return a})(),E=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["ui-heading"]],standalone:!0,features:[n.jDz],ngContentSelectors:v,decls:1,vars:0,template:function(o,p){1&o&&(n.F$t(),n.Hsn(0))},dependencies:[m.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);font-size:1.5em;margin:.75em 0 .75em .667em}"],changeDetection:0})}return a})(),S=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["ui-paragraph"]],standalone:!0,features:[n.jDz],ngContentSelectors:v,decls:1,vars:0,template:function(o,p){1&o&&(n.F$t(),n.Hsn(0))},dependencies:[m.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);margin:.75em 0;text-indent:1em}"],changeDetection:0})}return a})(),z=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["ui-statistic"]],standalone:!0,features:[n.jDz],ngContentSelectors:C,decls:3,vars:0,consts:[[1,"title"]],template:function(o,p){1&o&&(n.F$t(w),n.TgZ(0,"div",0),n.Hsn(1),n.qZA(),n.Hsn(2,1))},dependencies:[m.ez],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:.5em 1em;font-size:.75em}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:1/-1;font-size:1.167em}"],changeDetection:0})}return a})(),P=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["ui-statistic-line"]],standalone:!0,features:[n.jDz],ngContentSelectors:x,decls:4,vars:0,consts:[[1,"label"],[1,"value"]],template:function(o,p){1&o&&(n.F$t(D),n.TgZ(0,"div",0),n.Hsn(1),n.qZA(),n.TgZ(2,"div",1),n.Hsn(3,1),n.qZA())},dependencies:[m.ez],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return a})(),T=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.Xpm({type:a,selectors:[["ui-title"]],standalone:!0,features:[n.jDz],ngContentSelectors:v,decls:1,vars:0,template:function(o,p){1&o&&(n.F$t(),n.Hsn(0))},dependencies:[m.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);font-size:2em;margin:.75em 0 .75em .5em}"],changeDetection:0})}return a})()}}]);