"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[172],{4390:(_,p,o)=>{o.d(p,{cY:()=>gt,T:()=>Ct,$k:()=>tt,WI:()=>yt});var s=o(101),c=o(3889),l=o(2346),h=o(3359),i=o(7746),d=o(9291),T=o(6814),O=o(8645),I=o(4829),W=o(5592),R=o(1631),H=o(4266),C=o(4674),Y=o(7400);const r=["addListener","removeListener"],m=["addEventListener","removeEventListener"],u=["on","off"];function g(n,e,t,a){if((0,C.m)(t)&&(a=t,t=void 0),a)return g(n,e,t).pipe((0,Y.Z)(a));const[f,Z]=function ct(n){return(0,C.m)(n.addEventListener)&&(0,C.m)(n.removeEventListener)}(n)?m.map(v=>y=>n[v](e,y,t)):function ot(n){return(0,C.m)(n.addListener)&&(0,C.m)(n.removeListener)}(n)?r.map(N(n,e)):function rt(n){return(0,C.m)(n.on)&&(0,C.m)(n.off)}(n)?u.map(N(n,e)):[];if(!f&&(0,H.z)(n))return(0,R.z)(v=>g(v,e,t))((0,I.Xf)(n));if(!f)throw new TypeError("Invalid event target");return new W.y(v=>{const y=(...M)=>v.next(1<M.length?M:M[0]);return f(y),()=>Z(y)})}function N(n,e){return t=>a=>n[t](e,a)}var lt=o(9360),ht=o(8251),dt=o(2420);const q={now:()=>(q.delegate||Date).now(),delegate:void 0};class mt extends O.x{constructor(e=1/0,t=1/0,a=q){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=a,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:a,_infiniteTimeWindow:f,_timestampProvider:Z,_windowTime:v}=this;t||(a.push(e),!f&&a.push(Z.now()+v)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:a,_buffer:f}=this,Z=f.slice();for(let v=0;v<Z.length&&!e.closed;v+=a?1:2)e.next(Z[v]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:a,_infiniteTimeWindow:f}=this,Z=(f?1:2)*e;if(e<1/0&&Z<a.length&&a.splice(0,a.length-Z),!f){const v=t.now();let y=0;for(let M=1;M<a.length&&a[M]<=v;M+=2)y=M;y&&a.splice(0,y+1)}}}var pt=o(3020);const vt=["canvas"];let gt=(()=>{class n{get aspectRatio(){return{"aspect-ratio":`${this.sizeX}/${this.sizeY}`}}get canvasEl(){return this.canvas.nativeElement}get scaleX(){return this._scaleX}get scaleY(){return this._scaleY}get theme(){const t=getComputedStyle(this.canvasEl);return{color:t.color,bgColor:t.backgroundColor}}get width(){return this.canvasEl.clientWidth}get height(){return this.canvasEl.clientHeight}constructor(t){this.document=t,this.destroyed$=new O.x,this.sizeX=1,this.sizeY=1,this._scaleX=1,this._scaleY=1}ngOnChanges(){this.canvas&&this.adjustSizes()}ngAfterViewInit(){this.initiateCanvasSizeAdjuster(),this.initiateCanvasContext()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}clean(){this.ctx.fillStyle=this.theme.bgColor,this.ctx.fillRect(0,0,this.width,this.height)}initiateCanvasSizeAdjuster(){const t=this.document.defaultView;t&&(g(t,"resize").pipe(function ut(n){return(0,lt.e)((e,t)=>{(0,I.Xf)(n).subscribe((0,ht.x)(t,()=>t.complete(),dt.Z)),!t.closed&&e.subscribe(t)})}(this.destroyed$)).subscribe(()=>this.adjustSizes()),this.adjustSizes())}adjustSizes(){this.canvasEl.width=0,this.canvasEl.height=0,this.canvasEl.width=this.width,this.canvasEl.height=this.height,this.canvasEl.width=this.width,this.canvasEl.height=this.height,this._scaleX=this.width/this.sizeX,this._scaleY=this.height/this.sizeY}initiateCanvasContext(){const t=this.canvasEl.getContext("2d");if(!t)throw new Error("Cannot initiate canvas context");this.ctx=t}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(T.K0))},n.\u0275cmp=d.Xpm({type:n,selectors:[["tick-canvas"]],viewQuery:function(t,a){if(1&t&&d.Gf(vt,5,d.SBq),2&t){let f;d.iGM(f=d.CRH())&&(a.canvas=f.first)}},inputs:{sizeX:"sizeX",sizeY:"sizeY"},standalone:!0,features:[d.TTD,d.jDz],decls:8,vars:3,consts:[[1,"y-end"],[3,"ngStyle"],["canvas",""],[1,"start"],[1,"x-end"]],template:function(t,a){1&t&&(d.TgZ(0,"div",0),d._uU(1),d.qZA(),d._UZ(2,"canvas",1,2),d.TgZ(4,"div",3),d._uU(5,"0"),d.qZA(),d.TgZ(6,"div",4),d._uU(7),d.qZA()),2&t&&(d.xp6(1),d.hij("",a.sizeY," m"),d.xp6(1),d.Q6J("ngStyle",a.aspectRatio),d.xp6(5),d.hij("",a.sizeX," m"))},dependencies:[T.ez,T.PC],styles:["[_nghost-%COMP%]{display:grid;gap:.25em;grid-template-columns:max-content max-content;grid-template-rows:auto max-content;justify-items:end}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;height:100%;aspect-ratio:1/1;box-shadow:var(--shadow);background-color:var(--bg-main);color:var(--c-main);margin-top:-.063em}[_nghost-%COMP%]   .start[_ngcontent-%COMP%], [_nghost-%COMP%]   .x-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .y-end[_ngcontent-%COMP%]{font-size:.75em}[_nghost-%COMP%]   .right-space[_ngcontent-%COMP%]{grid-row:1/-1;grid-column:3/-1}"],changeDetection:0}),n})();var w=new WeakMap;class tt{get items(){return(0,i.Z)(this,w)}constructor(e={}){(0,l.Z)(this,w,{writable:!0,value:{}}),Object.assign((0,i.Z)(this,w),e)}add(e,t){(0,h.Z)(this,w,"function"!=typeof t?{...(0,i.Z)(this,w),[e]:t}:{...(0,i.Z)(this,w),[e]:t((0,i.Z)(this,w)[e])})}}const Zt=25,$="on",F="time",_t="timeSpeed";var D=new WeakMap,P=new WeakMap,U=new WeakMap,et=new WeakMap,x=new WeakMap,G=new WeakMap,k=new WeakMap,E=new WeakMap,j=new WeakMap,S=new WeakMap,b=new WeakMap,B=new WeakMap,A=new WeakMap,K=new WeakSet,Q=new WeakSet,V=new WeakSet,nt=new WeakSet,z=new WeakSet,X=new WeakSet;class Ct{get statistic(){return(0,i.Z)(this,b).items}constructor(e){(0,s.Z)(this,X),(0,s.Z)(this,z),(0,s.Z)(this,nt),(0,s.Z)(this,V),(0,s.Z)(this,Q),(0,s.Z)(this,K),(0,l.Z)(this,D,{writable:!0,value:[]}),(0,l.Z)(this,P,{writable:!0,value:new WeakMap}),(0,l.Z)(this,U,{writable:!0,value:new WeakMap}),(0,l.Z)(this,et,{writable:!0,value:1e3*this.ticksInterval}),(0,l.Z)(this,x,{writable:!0,value:"stopped"}),(0,l.Z)(this,G,{writable:!0,value:Date.now()}),(0,l.Z)(this,k,{writable:!0,value:Date.now()}),(0,l.Z)(this,E,{writable:!0,value:0}),(0,l.Z)(this,j,{writable:!0,value:void 0}),(0,l.Z)(this,S,{writable:!0,value:{real:Date.now(),space:Date.now()}}),(0,l.Z)(this,b,{writable:!0,value:new tt({[$]:!1})}),(0,l.Z)(this,B,{writable:!0,value:void 0}),(0,l.Z)(this,A,{writable:!0,value:void 0}),this.ticksInterval=e}addObject(e,{x:t,y:a}){(0,i.Z)(this,D).push(e),(0,i.Z)(this,P).set(e,{x:t,y:a})}setCanvas(e){(0,h.Z)(this,j,e),(0,c.Z)(this,z,L).call(this)}start(){(0,h.Z)(this,x,"started"),(0,c.Z)(this,z,L).call(this),(0,i.Z)(this,b).add($,!0),(0,i.Z)(this,S).real=Date.now(),(0,i.Z)(this,S).space=this.statistic[F]||0,(0,h.Z)(this,G,Date.now()),(0,h.Z)(this,k,(0,i.Z)(this,G)),(0,h.Z)(this,E,0),(0,c.Z)(this,K,it).call(this),(0,c.Z)(this,V,at).call(this)}stop(){(0,h.Z)(this,x,"stopped"),(0,c.Z)(this,z,L).call(this),clearTimeout((0,i.Z)(this,B)),(0,i.Z)(this,A)&&cancelAnimationFrame((0,i.Z)(this,A)),(0,i.Z)(this,b).add($,!1)}}function it(){if("stopped"===(0,i.Z)(this,x))return;const n=(0,i.Z)(this,E)===Zt?(0,i.Z)(this,k):Date.now();var e;if(n>(0,i.Z)(this,k))return(0,h.Z)(this,E,(e=(0,i.Z)(this,E),++e)),void(0,c.Z)(this,Q,st).call(this);(0,h.Z)(this,E,0),(0,h.Z)(this,B,setTimeout(()=>(0,c.Z)(this,Q,st).call(this),(0,i.Z)(this,k)-n))}function st(){if((0,i.Z)(this,D).some(e=>e.shouldStop({getObjPosition:t=>(0,i.Z)(this,P).get(t)})))return void this.stop();(0,i.Z)(this,D).forEach(e=>{const t=e.calculateNextPosition({getObjPosition:a=>(0,i.Z)(this,P).get(a),ticksInterval:this.ticksInterval});(0,i.Z)(this,U).set(e,t)}),(0,i.Z)(this,D).forEach(e=>{(0,i.Z)(this,P).set(e,(0,i.Z)(this,U).get(e))}),(0,i.Z)(this,b).add(F,e=>(e??0)+this.ticksInterval);const n=Date.now()-(0,i.Z)(this,S).real;n>1e3&&((0,i.Z)(this,b).add(_t,1e3*(this.statistic[F]-(0,i.Z)(this,S).space)/n),(0,i.Z)(this,S).real+=n,(0,i.Z)(this,S).space=this.statistic[F]),(0,h.Z)(this,k,(0,i.Z)(this,k)+(0,i.Z)(this,et)),(0,c.Z)(this,K,it).call(this)}function at(){"stopped"!==(0,i.Z)(this,x)&&(0,h.Z)(this,A,requestAnimationFrame(()=>(0,c.Z)(this,nt,wt).call(this)))}function wt(){(0,c.Z)(this,z,L).call(this),(0,c.Z)(this,V,at).call(this)}function L(){if(!(0,i.Z)(this,j))return;const n=(0,i.Z)(this,j);n.clean(),(0,i.Z)(this,D).forEach(e=>e.draw({getObjPosition:t=>(0,i.Z)(this,P).get(t),cx:t=>t*n.scaleX,cy:t=>(n.sizeY-t)*n.scaleY,cdx:(t,a)=>(0,c.Z)(this,X,J).call(this,t*n.scaleX,a??0),cdy:(t,a)=>(0,c.Z)(this,X,J).call(this,-t*n.scaleY,a??0),cd:(t,a)=>(0,c.Z)(this,X,J).call(this,t*n.scaleX,a??0),ctx:n.ctx,theme:n.theme}))}function J(n,e){return n>=0?Math.max(n,e):Math.min(n,e)}function yt(n){return new W.y(e=>{let t=function a(){return requestAnimationFrame(()=>{e.next(n()),t=a()})}();return()=>cancelAnimationFrame(t)}).pipe(function ft(n,e,t){let a,f=!1;return n&&"object"==typeof n?({bufferSize:a=1/0,windowTime:e=1/0,refCount:f=!1,scheduler:t}=n):a=n??1/0,(0,pt.B)({connector:()=>new mt(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}({refCount:!0,bufferSize:1}))}},4936:(_,p,o)=>{o.d(p,{Bc:()=>I,Dd:()=>H,QL:()=>O,_E:()=>R,r3:()=>Y,wp:()=>W});var s=o(9291),c=o(6814);const l=["*"],h=[[["","title",""]],[["ui-statistic-line"]]],i=["[title]","ui-statistic-line"],d=[[["","label",""]],[["","value",""]]],T=["[label]","[value]"];let O=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["ui-code"]],standalone:!0,features:[s.jDz],ngContentSelectors:l,decls:1,vars:0,template:function(u,g){1&u&&(s.F$t(),s.Hsn(0))},dependencies:[c.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);background-color:var(--bg-light);border:.063em solid var(--cb-main);padding:.5em .938em;margin:.5em 0}"],changeDetection:0}),r})(),I=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["ui-heading"]],standalone:!0,features:[s.jDz],ngContentSelectors:l,decls:1,vars:0,template:function(u,g){1&u&&(s.F$t(),s.Hsn(0))},dependencies:[c.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);font-size:1.5em;margin:.75em 0 .75em .667em}"],changeDetection:0}),r})(),W=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["ui-paragraph"]],standalone:!0,features:[s.jDz],ngContentSelectors:l,decls:1,vars:0,template:function(u,g){1&u&&(s.F$t(),s.Hsn(0))},dependencies:[c.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);margin:.75em 0;text-indent:1em}"],changeDetection:0}),r})(),R=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["ui-statistic"]],standalone:!0,features:[s.jDz],ngContentSelectors:i,decls:3,vars:0,consts:[[1,"title"]],template:function(u,g){1&u&&(s.F$t(h),s.TgZ(0,"div",0),s.Hsn(1),s.qZA(),s.Hsn(2,1))},dependencies:[c.ez],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:.5em 1em;font-size:.75em}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:1/-1;font-size:1.167em}"],changeDetection:0}),r})(),H=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["ui-statistic-line"]],standalone:!0,features:[s.jDz],ngContentSelectors:T,decls:4,vars:0,consts:[[1,"label"],[1,"value"]],template:function(u,g){1&u&&(s.F$t(d),s.TgZ(0,"div",0),s.Hsn(1),s.qZA(),s.TgZ(2,"div",1),s.Hsn(3,1),s.qZA())},dependencies:[c.ez],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0}),r})(),Y=(()=>{class r{}return r.\u0275fac=function(u){return new(u||r)},r.\u0275cmp=s.Xpm({type:r,selectors:[["ui-title"]],standalone:!0,features:[s.jDz],ngContentSelectors:l,decls:1,vars:0,template:function(u,g){1&u&&(s.F$t(),s.Hsn(0))},dependencies:[c.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);font-size:2em;margin:.75em 0 .75em .5em}"],changeDetection:0}),r})()},864:(_,p,o)=>{function s(c,l){if(l.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}o.d(p,{Z:()=>s})},1519:(_,p,o)=>{function s(c,l,h){if(!l.has(c))throw new TypeError("attempted to "+h+" private field on non-instance");return l.get(c)}o.d(p,{Z:()=>s})},7746:(_,p,o)=>{o.d(p,{Z:()=>l});var c=o(1519);function l(h,i){return function s(h,i){return i.get?i.get.call(h):i.value}(h,(0,c.Z)(h,i,"get"))}},2346:(_,p,o)=>{o.d(p,{Z:()=>c});var s=o(864);function c(l,h,i){(0,s.Z)(l,h),h.set(l,i)}},3359:(_,p,o)=>{o.d(p,{Z:()=>l});var c=o(1519);function l(h,i,d){return function s(h,i,d){if(i.set)i.set.call(h,d);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=d}}(h,(0,c.Z)(h,i,"set"),d),d}},3889:(_,p,o)=>{function s(c,l,h){if(!l.has(c))throw new TypeError("attempted to get private field on non-instance");return h}o.d(p,{Z:()=>s})},101:(_,p,o)=>{o.d(p,{Z:()=>c});var s=o(864);function c(l,h){(0,s.Z)(l,h),h.add(l)}}}]);