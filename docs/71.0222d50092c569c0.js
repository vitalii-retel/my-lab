"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[71],{7432:(H,T,l)=>{l.d(T,{cY:()=>r,T:()=>$,$k:()=>o,WI:()=>Y});var t=l(6146),d=l(6814),p=l(8645),w=l(4829),y=l(5592),z=l(1631),x=l(4266),f=l(4674),S=l(7400);const E=["addListener","removeListener"],P=["addEventListener","removeEventListener"],b=["on","off"];function C(a,e,n,i){if((0,f.m)(n)&&(i=n,n=void 0),i)return C(a,e,n).pipe((0,S.Z)(i));const[c,m]=function A(a){return(0,f.m)(a.addEventListener)&&(0,f.m)(a.removeEventListener)}(a)?P.map(h=>g=>a[h](e,g,n)):function O(a){return(0,f.m)(a.addListener)&&(0,f.m)(a.removeListener)}(a)?E.map(_(a,e)):function k(a){return(0,f.m)(a.on)&&(0,f.m)(a.off)}(a)?b.map(_(a,e)):[];if(!c&&(0,x.z)(a))return(0,z.z)(h=>C(h,e,n))((0,w.Xf)(a));if(!c)throw new TypeError("Invalid event target");return new y.y(h=>{const g=(...v)=>h.next(1<v.length?v:v[0]);return c(g),()=>m(g)})}function _(a,e){return n=>i=>a[n](e,i)}var F=l(9773);const M={now:()=>(M.delegate||Date).now(),delegate:void 0};class I extends p.x{constructor(e=1/0,n=1/0,i=M){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:i,_infiniteTimeWindow:c,_timestampProvider:m,_windowTime:h}=this;n||(i.push(e),!c&&i.push(m.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:c}=this,m=c.slice();for(let h=0;h<m.length&&!e.closed;h+=i?1:2)e.next(m[h]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:c}=this,m=(c?1:2)*e;if(e<1/0&&m<i.length&&i.splice(0,i.length-m),!c){const h=n.now();let g=0;for(let v=1;v<i.length&&i[v]<=h;v+=2)g=v;g&&i.splice(0,g+1)}}}var j=l(3020);const L=["canvas"];let r=(()=>{class a{get aspectRatio(){return{"aspect-ratio":`${this.sizeX}/${this.sizeY}`}}get canvasEl(){return this.canvas.nativeElement}get scaleX(){return this._scaleX}get scaleY(){return this._scaleY}get theme(){const n=getComputedStyle(this.canvasEl);return{color:n.color,bgColor:n.backgroundColor}}get width(){return this.canvasEl.clientWidth}get height(){return this.canvasEl.clientHeight}constructor(n){this.document=n,this.destroyed$=new p.x,this.sizeX=1,this.sizeY=1,this._scaleX=1,this._scaleY=1}ngOnChanges(){this.canvas&&this.adjustSizes()}ngAfterViewInit(){this.initiateCanvasSizeAdjuster(),this.initiateCanvasContext()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}clean(){this.ctx.fillStyle=this.theme.bgColor,this.ctx.fillRect(0,0,this.width,this.height)}initiateCanvasSizeAdjuster(){const n=this.document.defaultView;n&&(C(n,"resize").pipe((0,F.R)(this.destroyed$)).subscribe(()=>this.adjustSizes()),this.adjustSizes())}adjustSizes(){this.canvasEl.width=0,this.canvasEl.height=0,this.canvasEl.width=this.width,this.canvasEl.height=this.height,this.canvasEl.width=this.width,this.canvasEl.height=this.height,this._scaleX=this.width/this.sizeX,this._scaleY=this.height/this.sizeY}initiateCanvasContext(){const n=this.canvasEl.getContext("2d");if(!n)throw new Error("Cannot initiate canvas context");this.ctx=n}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(d.K0))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["tick-canvas"]],viewQuery:function(i,c){if(1&i&&t.Gf(L,5,t.SBq),2&i){let m;t.iGM(m=t.CRH())&&(c.canvas=m.first)}},inputs:{sizeX:"sizeX",sizeY:"sizeY"},standalone:!0,features:[t.TTD,t.jDz],decls:8,vars:3,consts:[[1,"y-end"],[3,"ngStyle"],["canvas",""],[1,"start"],[1,"x-end"]],template:function(i,c){1&i&&(t.TgZ(0,"div",0),t._uU(1),t.qZA(),t._UZ(2,"canvas",1,2),t.TgZ(4,"div",3),t._uU(5,"0"),t.qZA(),t.TgZ(6,"div",4),t._uU(7),t.qZA()),2&i&&(t.xp6(1),t.hij("",c.sizeY," m"),t.xp6(1),t.Q6J("ngStyle",c.aspectRatio),t.xp6(5),t.hij("",c.sizeX," m"))},dependencies:[d.ez,d.PC],styles:["[_nghost-%COMP%]{display:grid;gap:.25em;grid-template-columns:max-content max-content;grid-template-rows:auto max-content;justify-items:end}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{display:block;height:100%;aspect-ratio:1/1;box-shadow:var(--shadow);background-color:var(--bg-main);color:var(--c-main);margin-top:-.063em}[_nghost-%COMP%]   .start[_ngcontent-%COMP%], [_nghost-%COMP%]   .x-end[_ngcontent-%COMP%], [_nghost-%COMP%]   .y-end[_ngcontent-%COMP%]{font-size:.75em}[_nghost-%COMP%]   .right-space[_ngcontent-%COMP%]{grid-row:1/-1;grid-column:3/-1}"],changeDetection:0})}return a})();class o{#t={};get items(){return this.#t}constructor(e={}){Object.assign(this.#t,e)}add(e,n){this.#t="function"!=typeof n?{...this.#t,[e]:n}:{...this.#t,[e]:n(this.#t[e])}}}const X="on",D="time";class ${#t=[];#e=new WeakMap;#h=new WeakMap;#v=1e3*this.ticksInterval;#o="stopped";#u=Date.now();#s=Date.now();#a=0;#r;#n={real:Date.now(),space:Date.now()};#i=new o({[X]:!1});#m;#l;get statistic(){return this.#i.items}constructor(e){this.ticksInterval=e}addObject(e,{x:n,y:i}){this.#t.push(e),this.#e.set(e,{x:n,y:i})}setCanvas(e){this.#r=e,this.#c()}start(){this.#o="started",this.#c(),this.#i.add(X,!0),this.#n.real=Date.now(),this.#n.space=this.statistic[D]||0,this.#u=Date.now(),this.#s=this.#u,this.#a=0,this.#p(),this.#g()}stop(){this.#o="stopped",this.#c(),clearTimeout(this.#m),this.#l&&cancelAnimationFrame(this.#l),this.#i.add(X,!1)}#p(){if("stopped"===this.#o)return;const e=25===this.#a?this.#s:Date.now();if(e>this.#s)return this.#a++,void this.#f();this.#a=0,this.#m=setTimeout(()=>this.#f(),this.#s-e)}#f(){if(this.#t.some(n=>n.shouldStop({getObjPosition:i=>this.#e.get(i)})))return void this.stop();this.#t.forEach(n=>{const i=n.calculateNextPosition({getObjPosition:c=>this.#e.get(c),ticksInterval:this.ticksInterval});this.#h.set(n,i)}),this.#t.forEach(n=>{this.#e.set(n,this.#h.get(n))}),this.#i.add(D,n=>(n??0)+this.ticksInterval);const e=Date.now()-this.#n.real;e>1e3&&(this.#i.add("timeSpeed",1e3*(this.statistic[D]-this.#n.space)/e),this.#n.real+=e,this.#n.space=this.statistic[D]),this.#s+=this.#v,this.#p()}#g(){"stopped"!==this.#o&&(this.#l=requestAnimationFrame(()=>this.#C()))}#C(){this.#c(),this.#g()}#c(){if(!this.#r)return;const e=this.#r;e.clean(),this.#t.forEach(n=>n.draw({getObjPosition:i=>this.#e.get(i),cx:i=>i*e.scaleX,cy:i=>(e.sizeY-i)*e.scaleY,cdx:(i,c)=>this.#d(i*e.scaleX,c??0),cdy:(i,c)=>this.#d(-i*e.scaleY,c??0),cd:(i,c)=>this.#d(i*e.scaleX,c??0),ctx:e.ctx,theme:e.theme}))}#d(e,n){return e>=0?Math.max(e,n):Math.min(e,n)}}function Y(a){return new y.y(e=>{let n=function i(){return requestAnimationFrame(()=>{e.next(a()),n=i()})}();return()=>cancelAnimationFrame(n)}).pipe(function s(a,e,n){let i,c=!1;return a&&"object"==typeof a?({bufferSize:i=1/0,windowTime:e=1/0,refCount:c=!1,scheduler:n}=a):i=a??1/0,(0,j.B)({connector:()=>new I(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}({refCount:!0,bufferSize:1}))}},4936:(H,T,l)=>{l.d(T,{Bc:()=>M,Dd:()=>k,Fr:()=>P,QL:()=>F,Ur:()=>b,_E:()=>O,_n:()=>_,am:()=>C,r3:()=>j,wp:()=>I});var t=l(6146),d=l(6814);const p=["*"],w=[[["","title",""]],"*"],y=["[title]","*"],z=["ui-input",""],x=[[["","title",""]],[["ui-statistic-line"]]],f=["[title]","ui-statistic-line"],S=[[["","label",""]],[["","value",""]]],E=["[label]","[value]"];let P=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-control"]],standalone:!0,features:[t.jDz],ngContentSelectors:p,decls:1,vars:0,template:function(o,u){1&o&&(t.F$t(),t.Hsn(0))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return s})(),b=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-form"]],standalone:!0,features:[t.jDz],ngContentSelectors:y,decls:3,vars:0,consts:[[1,"title"]],template:function(o,u){1&o&&(t.F$t(w),t.TgZ(0,"div",0),t.Hsn(1),t.qZA(),t.Hsn(2,1))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:grid;row-gap:.5em;font-size:.75em}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:1/-1;font-size:1.167em}"],changeDetection:0})}return s})(),C=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["input","ui-input",""]],standalone:!0,features:[t.jDz],attrs:z,decls:0,vars:0,template:function(o,u){},dependencies:[d.ez],changeDetection:0})}return s})(),_=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-label"]],standalone:!0,features:[t.jDz],ngContentSelectors:p,decls:1,vars:0,template:function(o,u){1&o&&(t.F$t(),t.Hsn(0))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return s})(),O=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-statistic"]],standalone:!0,features:[t.jDz],ngContentSelectors:f,decls:3,vars:0,consts:[[1,"title"]],template:function(o,u){1&o&&(t.F$t(x),t.TgZ(0,"div",0),t.Hsn(1),t.qZA(),t.Hsn(2,1))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:.5em 1em;font-size:.75em}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{grid-column:1/-1;font-size:1.167em}"],changeDetection:0})}return s})(),k=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-statistic-line"]],standalone:!0,features:[t.jDz],ngContentSelectors:E,decls:4,vars:0,consts:[[1,"label"],[1,"value"]],template:function(o,u){1&o&&(t.F$t(S),t.TgZ(0,"div",0),t.Hsn(1),t.qZA(),t.TgZ(2,"div",1),t.Hsn(3,1),t.qZA())},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:contents}"],changeDetection:0})}return s})(),F=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-code"]],standalone:!0,features:[t.jDz],ngContentSelectors:p,decls:1,vars:0,template:function(o,u){1&o&&(t.F$t(),t.Hsn(0))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);background-color:var(--bg-light);border:.063em solid var(--cb-main);padding:.5em .938em;margin:.5em 0}"],changeDetection:0})}return s})(),M=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-heading"]],standalone:!0,features:[t.jDz],ngContentSelectors:p,decls:1,vars:0,template:function(o,u){1&o&&(t.F$t(),t.Hsn(0))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);font-size:1.5em;margin:.75em 0 .75em .667em}"],changeDetection:0})}return s})(),I=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-paragraph"]],standalone:!0,features:[t.jDz],ngContentSelectors:p,decls:1,vars:0,template:function(o,u){1&o&&(t.F$t(),t.Hsn(0))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);margin:.75em 0;text-indent:1em}"],changeDetection:0})}return s})(),j=(()=>{class s{static#t=this.\u0275fac=function(o){return new(o||s)};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["ui-title"]],standalone:!0,features:[t.jDz],ngContentSelectors:p,decls:1,vars:0,template:function(o,u){1&o&&(t.F$t(),t.Hsn(0))},dependencies:[d.ez],styles:["[_nghost-%COMP%]{display:block;color:var(--c-main);font-size:2em;margin:.75em 0 .75em .5em}"],changeDetection:0})}return s})()}}]);