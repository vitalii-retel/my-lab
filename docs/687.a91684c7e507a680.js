"use strict";(self.webpackChunklab=self.webpackChunklab||[]).push([[687],{9687:(J,w,l)=>{l.r(w),l.d(w,{FourDogsComponent:()=>O});var k=l(101),_=l(2346),r=l(3359),v=l(3889),e=l(7746),f=l(6814),Z=l(4390),m=new WeakMap;class x{get statistic(){return(0,e.Z)(this,m).items}constructor(s){(0,_.Z)(this,m,{writable:!0,value:new Z.$k}),this.num=s}shouldStop({getObjPosition:s}){const i=s(this),o=s(this.followDog);return Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2))<.2}calculateNextPosition({getObjPosition:s,ticksInterval:i}){const o=s(this),a=s(this.followDog),d=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2))/1,g={x:o.x+(a.x-o.x)/d*i,y:o.y+(a.y-o.y)/d*i};return(0,e.Z)(this,m).add("l",c=>(c??0)+Math.sqrt(Math.pow(g.x-o.x,2)+Math.pow(g.y-o.y,2))),g}draw({ctx:s,cx:i,cy:o,cd:a,cdx:h,cdy:p,getObjPosition:d,theme:g}){const{x:c,y:u}=d(this);s.beginPath(),s.strokeStyle=g.color,s.lineWidth=1,s.arc(i(c),o(u),a(.1,10),0,2*Math.PI),s.stroke(),s.beginPath(),s.font=`${a(.14,14)}px sans-serif`,s.strokeText(String(this.num),i(c)-h(.04,4),o(u)-p(.05,5))}follow(s){this.followDog=s}}var C=l(7398),D=l(4936),t=l(9291);function T(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return t.KtG(a.start())}),t._uU(1," Start "),t.qZA()}}function Q(n,s){if(1&n){const i=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){t.CHM(i);const a=t.oxw();return t.KtG(a.stop())}),t._uU(1," Stop "),t.qZA()}}function b(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"State"),t.BQk(),t.ynx(3,8),t._uU(4),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",i.space.on?"on":"off"," ")}}function A(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Time"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.space.time,"1.3-3")," s ")}}function M(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Time speed"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;let o;t.xp6(4),t.hij(" ",t.xi3(5,1,100*(null!==(o=i.space.timeSpeed)&&void 0!==o?o:0),"1.1-1")," % ")}}function U(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij("",t.xi3(5,1,i.dog1.l,"1.2-2")," m")}}function I(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.dog2.l,"1.2-2")," m ")}}function F(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.dog3.l,"1.2-2")," m ")}}function P(n,s){if(1&n&&(t.TgZ(0,"ui-statistic-line"),t.ynx(1,7),t._uU(2,"Distance"),t.BQk(),t.ynx(3,8),t._uU(4),t.ALo(5,"number"),t.BQk(),t.qZA()),2&n){const i=t.oxw().ngIf;t.xp6(4),t.hij(" ",t.xi3(5,1,i.dog4.l,"1.2-2")," m ")}}function B(n,s){if(1&n&&(t.ynx(0),t.TgZ(1,"ui-statistic"),t.ynx(2,6),t._uU(3,"Space"),t.BQk(),t.YNc(4,b,5,1,"ui-statistic-line",4),t.YNc(5,A,6,4,"ui-statistic-line",4),t.YNc(6,M,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(7,"ui-statistic"),t.ynx(8,6),t._uU(9,"Dog 1"),t.BQk(),t.YNc(10,U,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(11,"ui-statistic"),t.ynx(12,6),t._uU(13,"Dog 2"),t.BQk(),t.YNc(14,I,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(15,"ui-statistic"),t.ynx(16,6),t._uU(17,"Dog 3"),t.BQk(),t.YNc(18,F,6,4,"ui-statistic-line",4),t.qZA(),t.TgZ(19,"ui-statistic"),t.ynx(20,6),t._uU(21,"Dog 4"),t.BQk(),t.YNc(22,P,6,4,"ui-statistic-line",4),t.qZA(),t.BQk()),2&n){const i=s.ngIf;t.xp6(4),t.Q6J("ngIf",i.space.hasOwnProperty("on")),t.xp6(1),t.Q6J("ngIf",i.space.hasOwnProperty("time")),t.xp6(1),t.Q6J("ngIf",i.space.hasOwnProperty("timeSpeed")),t.xp6(4),t.Q6J("ngIf",i.dog1.hasOwnProperty("l")),t.xp6(4),t.Q6J("ngIf",i.dog2.hasOwnProperty("l")),t.xp6(4),t.Q6J("ngIf",i.dog3.hasOwnProperty("l")),t.xp6(4),t.Q6J("ngIf",i.dog4.hasOwnProperty("l"))}}let O=(()=>{var n=new WeakMap,s=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,h=new WeakSet;class p{constructor(c){(0,k.Z)(this,h),(0,_.Z)(this,n,{writable:!0,value:void 0}),(0,_.Z)(this,s,{writable:!0,value:void 0}),(0,_.Z)(this,i,{writable:!0,value:void 0}),(0,_.Z)(this,o,{writable:!0,value:void 0}),(0,_.Z)(this,a,{writable:!0,value:void 0}),this.cdr=c,this.statistic$=(0,Z.WI)(()=>({space:(0,e.Z)(this,n)?.statistic??{},dog1:(0,e.Z)(this,s)?.statistic??{},dog2:(0,e.Z)(this,s)?.statistic??{},dog3:(0,e.Z)(this,s)?.statistic??{},dog4:(0,e.Z)(this,s)?.statistic??{}})),this.started$=this.statistic$.pipe((0,C.U)(u=>u.space.on))}reset(){this.stop(),(0,v.Z)(this,h,d).call(this),(0,r.Z)(this,n,new Z.T(.005)),(0,r.Z)(this,s,new x(1)),(0,r.Z)(this,i,new x(2)),(0,r.Z)(this,o,new x(3)),(0,r.Z)(this,a,new x(4)),(0,e.Z)(this,s).follow((0,e.Z)(this,i)),(0,e.Z)(this,i).follow((0,e.Z)(this,o)),(0,e.Z)(this,o).follow((0,e.Z)(this,a)),(0,e.Z)(this,a).follow((0,e.Z)(this,s)),(0,e.Z)(this,n).addObject((0,e.Z)(this,s),{x:0,y:10}),(0,e.Z)(this,n).addObject((0,e.Z)(this,i),{x:10,y:10}),(0,e.Z)(this,n).addObject((0,e.Z)(this,o),{x:10,y:0}),(0,e.Z)(this,n).addObject((0,e.Z)(this,a),{x:0,y:0}),(0,e.Z)(this,n).setCanvas(this.canvasComponent)}start(){(0,e.Z)(this,n)?.start()}stop(){(0,e.Z)(this,n)?.stop()}ngAfterViewInit(){this.reset(),this.cdr.detectChanges()}ngOnDestroy(){(0,v.Z)(this,h,d).call(this)}}function d(){this.stop(),(0,r.Z)(this,n,void 0),(0,r.Z)(this,s,void 0),(0,r.Z)(this,i,void 0),(0,r.Z)(this,o,void 0),(0,r.Z)(this,a,void 0)}return p.\u0275fac=function(c){return new(c||p)(t.Y36(t.sBO))},p.\u0275cmp=t.Xpm({type:p,selectors:[["lab-four-dogs"]],viewQuery:function(c,u){if(1&c&&t.Gf(Z.cY,5),2&c){let y;t.iGM(y=t.CRH())&&(u.canvasComponent=y.first)}},standalone:!0,features:[t.jDz],decls:15,vars:11,consts:[[1,"control-panel"],[1,"buttons"],["type","button",3,"click"],["type","button",3,"click",4,"ngIf"],[4,"ngIf"],[3,"sizeX","sizeY"],["title",""],["label",""],["value",""]],template:function(c,u){1&c&&(t.TgZ(0,"div",0)(1,"p"),t._uU(2," 4 dogs are placed in the corners of a square 10x10 meters. Each dog follows the dog to the left. Calculate a distance dogs go before meeting another dog."),t._UZ(3,"br"),t._uU(4," A dog is a ball approximately 20cm in diameter. "),t.qZA(),t.TgZ(5,"div",1)(6,"button",2),t.NdJ("click",function(){return u.reset()}),t._uU(7,"Reset"),t.qZA(),t.YNc(8,T,2,0,"button",3),t.ALo(9,"async"),t.YNc(10,Q,2,0,"button",3),t.ALo(11,"async"),t.qZA(),t.YNc(12,B,23,7,"ng-container",4),t.ALo(13,"async"),t.qZA(),t._UZ(14,"tick-canvas",5)),2&c&&(t.xp6(8),t.Q6J("ngIf",!t.lcZ(9,5,u.started$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,7,u.started$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(13,9,u.statistic$)),t.xp6(2),t.Q6J("sizeX",10)("sizeY",10))},dependencies:[f.ez,f.O5,f.Ov,f.JJ,Z.cY,D._E,D.Dd],styles:["[_nghost-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:1em;height:100%}[_nghost-%COMP%]   .control-panel[_ngcontent-%COMP%]{display:grid;gap:1em;align-content:start}[_nghost-%COMP%]   .control-panel[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:.5em}"],changeDetection:0}),p})()}}]);